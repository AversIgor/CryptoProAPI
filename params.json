{"name":"Cryptoproapi","tagline":"Простое API для работы с КриптоПро ЭЦП Browser plug-in","body":"# CryptoProAPI\r\nПростое API для работы с КриптоПро ЭЦП Browser plug-in\r\n\r\n\r\n### Вкратце\r\n1. Подключение\r\n2. Получение информации из ключа\r\n3. Получение всех сертификатов установленных на компьютере\r\n4. Вычисление хеш\r\n5. Создание подписи\r\n6. Верификация подписи\r\n\r\n\r\n### Использование\r\n \r\n#### Подключение\r\n\r\nЧтобы эта штура зарботала, достаточно подключить [один файл](https://github.com/shanhaichik/CryptoProAPI/blob/master/src/cryptoAPI.js). \r\n\r\n```html\r\n<script src=\"cryptoAPI.js\"></script>\r\n```\r\n\r\n#### Получение информации из ключа\r\n\r\n##### Метод getByHash\r\nПолучение сертификата по хешу ключа (fingerprint)\r\n\r\n```javascript\r\nvar key = CryptoPro.getByHash('000000000000000000000000').get();\r\n\r\n// или\r\n\r\nvar key = CryptoPro.getByHash('000000000000000000000000');\r\nkey.get();\r\n```\r\n\r\n##### Метод getExtendedKeyUsage\r\nПолучение информации из ключа\r\nПолучение OID сертификата (улучшенного ключа)\r\n\r\n```javascript\r\nvar key = CryptoPro.getByHash('000000000000000000000000');\r\n\r\nkey.getExtendedKeyUsage();\r\n```\r\n\r\n##### Метод hasKeyUsageOID\r\nПроверка наличия OID или группы OID в ключе\r\n\r\n```javascript\r\nkey.hasKeyUsageOID('1.3.6.1.5.5.7.3.2');\r\n\r\n//или\r\n\r\nkey.hasKeyUsageOID([\"1.3.6.1.5.5.7.3.4\", \"1.3.6.1.5.5.7.3.2\", \"1.2.643.2.2.34.6\"]);\r\n```\r\n\r\n##### Метод isKeyValid\r\nПолучение информации валидный ключ или нет\r\n\r\n```javascript\r\nkey.isKeyValid();\r\n```\r\n\r\n##### Метод getOwner\r\nПарсит SubjectName ключа по тегам\r\n\r\n```javascript\r\nkey.getOwner();\r\n```\r\n\r\n##### Метод getIssuer\r\nПарсит IssuerName ключа по тегам\r\n\r\n```javascript\r\nkey.getIssuer();\r\n```\r\n\r\n##### Метод getAlgorithm\r\nИнформауия об алгоритме\r\n\r\n```javascript\r\nkey.getAlgorithm();\r\n```\r\n\r\n#### Получение всех сертификатов установленных на компьютере.\r\n\r\n##### Метод getList\r\n```javascript\r\nCryptoPro.getList();\r\n```\r\n\r\n\r\n#### Создание ЭП\r\n\r\n##### Метод SignPkcs7\r\nСоздание ЭП в формате Pkcs7\r\n\r\nПараметры:\r\n* Хеш / Fingerprint {String}\r\n* Данные для подписи {String}\r\n* Прикрепленная / отсоединенная {Boolean, default:false}\r\n\r\n```javascript\r\nCryptoPro.SignPkcs7(hash, signData, signType);\r\n```\r\n\r\n##### Метод SignXML\r\nСоздание ЭП в формате XML\r\n\r\nПараметры:\r\n* Хеш / Fingerprint {String}\r\n* Данные для подписи {String}\r\n\r\n```javascript\r\nCryptoPro.SignXML(hash, signData);\r\n```\r\n\r\n\r\n##### Метод SignHash\r\nСоздание ЭП по хэш значению\r\n\r\nПараметры:\r\n* Хеш / Fingerprint {String}\r\n* Вычисленный хеш данных {String}\r\n* Отсоединенная {Boolean, default:false}\r\n\r\n```javascript\r\nCryptoPro.SignHash(hash, hashValue, signType);\r\n```\r\n\r\n\r\n#### Вычисление хеш\r\n\r\n##### Метод getHash\r\nВычисление хеш значеняи данных по Гост.\r\n\r\nПараметры:\r\n* Строка для вычисления хеш {String}\r\n* Вычисления хеш бинарных данных {Boolean, default:false}\r\n\r\n```javascript\r\nCryptoPro.getHash(str, binary);\r\n```\r\n\r\n\r\n#### Верификация ЭП\r\n\r\n##### Метод getHash\r\nВерификация подписи в формате Pkcs7\r\n\r\nПараметры:\r\n* Строка с подписью {String}\r\n* Тип подписи открепленная/присоединенная {Boolean, default:false}\r\n\r\n```javascript\r\nCryptoPro.getHash(signature, signType);\r\n```\r\n\r\n##### Метод VerifyXML\r\nВерификация подписи в формате XML\r\n\r\nПараметры:\r\n* Строка с подписью {String}\r\n\r\n```javascript\r\nCryptoPro.VerifyXML(signature);\r\n```\r\n\r\n##### Метод VerifyHash\r\nВерификация подписипо хэш значению\r\n\r\nПараметры:\r\n* Хеш / Fingerprint {String}\r\n* Вычисленный хеш данных {String}\r\n* Строка с подписью {String}\r\n* Отсоединенная {Boolean, default:false}\r\n\r\n```javascript\r\nCryptoPro.VerifyHash(hash, hashValue, signature, signType);\r\n```\r\n\r\n#### Любые замечания, баги и предложения приветствуются и дают в карму +1.","google":"","note":"Don't delete this file! It's used internally to help with page regeneration."}